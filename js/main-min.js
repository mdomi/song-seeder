/**
 * main-min.js
 * (c) 2015 Michael Dominice
 * main-min.js is freely distributable under the MIT license.
 */
"use strict";!function(a){function b(a,b){return"undefined"==typeof b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))}function c(a){return a[b(a.length-1)]}var d=a.random||{};d.randomInt=b,d.choice=c,a.random=d}(window),function(a){function b(){}var c=1,d=2;Object.defineProperty(b,"HALF_STEP",{get:function(){return c}}),Object.defineProperty(b,"WHOLE_STEP",{get:function(){return d}}),a.Interval=b}(window),function(a,b){function c(a){return a+m}function d(a,b){var c=n,d=0;for(d=0;a>d;d++)c+=b;return c}function e(a){return o.indexOf(a)}function f(a){return o[a%o.length]}function g(a){return p.indexOf(a)}function h(a){return p[i(a)]}function i(a){return a%p.length}function j(a,b){if(1!==a.length)throw new Error("invalid letter!");b=b||n,Object.defineProperty(this,"letter",{get:function(){return a}}),Object.defineProperty(this,"suffix",{get:function(){return b}}),Object.defineProperty(this,"name",{get:function(){return a+b}}),Object.defineProperty(this,"number",{get:function(){var c=g(a);return b.charAt(0)===l?c-=b.length:b.charAt(0)===m&&(c+=b.length),i(c)}}),Object.defineProperty(this,"flats",{get:function(){return b.charAt(0)===l?b.length:0}}),Object.defineProperty(this,"sharps",{get:function(){return b.charAt(0)===m?b.length:0}})}function k(a,b,c){var e=p.length-1-a;return e>a?d(a,b):a>e?d(e,c):n}var l="♭",m="♯",n="",o=["C","D","E","F","G","A","B"],p=["C",c("C"),"D",c("D"),"E","F",c("F"),"G",c("G"),"A",c("A"),"B"];j.prototype.hasSharps=function(){return this.suffix.indexOf(m)>-1},j.prototype.hasFlats=function(){return this.suffix.indexOf(l)>-1},j.prototype.flatten=function(){return this.hasSharps()?new j(this.letter,this.suffix.slice(0,this.suffix.length-1)):new j(this.letter,this.suffix+l)},j.prototype.sharpen=function(){return this.hasFlats()?new j(this.letter,this.suffix.slice(0,this.suffix.length-1)):new j(this.letter,this.suffix+m)},j.prototype.resolveTo=function(a){var b=j.create(a),c=this.number-b.number;return c>0?j.create(a,k(c,m,l)):0>c?j.create(a,k(Math.abs(c),l,m)):b},j.prototype.interval=function(a){return j.parse(h(this.number+a))},j.prototype.toJSON=function(){return{name:this.name}},j.prototype.toString=function(){return this.name},j.create=function(a,b){return a.length>1?j.parse(a):new j(a,b)},j.parse=function(a){var b=a[0],c=a.slice(1).replace(/b/g,l).replace(/#/g,m);return j.create(b,c)},j.letters=function(a){var b=e(a||"C");return o.map(function(a,c){return f(c+b)})},j.all=function(){return p.map(j.create)},j.random=function(){return j.parse(b.choice(p))},Object.defineProperty(j,"SHARP",{get:function(){return m}}),Object.defineProperty(j,"FLAT",{get:function(){return l}}),a.Note=j}(window,window.random),function(a,b,c,d){function e(a,b){a instanceof c||(a=c.parse(a)),Object.defineProperty(this,"tonic",{get:function(){return a}}),Object.defineProperty(this,"quality",{get:function(){return b}}),Object.defineProperty(this,"name",{get:function(){return a+" "+this.quality}}),Object.defineProperty(this,"shortName",{get:function(){var c=String(a);return b===j&&(c+="m"),c}}),Object.defineProperty(this,"flats",{get:function(){return h(a,b).reduce(function(a,b){return a+b.flats},0)}}),Object.defineProperty(this,"sharps",{get:function(){return h(a,b).reduce(function(a,b){return a+b.sharps},0)}})}function f(a,b){var c=a[a.length-1],d=c.interval(b);return a.push(d),a}function g(){return b.randomInt(1)?i:j}function h(a,b){var d=m[b].reduce(f,[a]);return c.letters(a.letter).map(function(a,b){return d[b].resolveTo(a)})}var i="major",j="minor",k=d.HALF_STEP,l=d.WHOLE_STEP,m={},n={"C♯":"D♭","D♯":"E♭","G♯":"A♭","A♯":"B♭","A♯m":"B♭"};m[i]=[l,l,k,l,l,l],m[j]=[l,k,l,l,k,l],e.prototype.getNotes=function(){return h(this.tonic,this.quality)},Object.defineProperty(e,"MINOR",{get:function(){return j}}),Object.defineProperty(e,"MAJOR",{get:function(){return i}}),e.prototype.toJSON=function(){return{tonic:this.tonic,quality:this.quality}},e.prototype.toString=function(){return this.name},e.prototype.preferred=function(){return n.hasOwnProperty(this.shortName)?new e(c.create(n[this.shortName]),this.quality):this},e.create=function(a,b){return new e(a,b)},e.random=function(){return e.create(c.random(),g()).preferred()},a.Key=e}(window,window.random,window.Note,window.Interval),function(a,b){function c(a){Object.defineProperty(this,"bpm",{get:function(){return a}})}var d=[40,42,44,46,48,50,52,54,56,58,60,63,66,69,72,76,80,84,88,92,96,100,104,108,112,116,120,126,132,138,144,152,160,168,176,184,192,200,208];c.prototype.toJSON=function(){return{bpm:this.bpm}},c.prototype.toString=function(){return this.bpm+" bpm"},c.random=function(){return new c(b.choice(d))},a.Tempo=c}(window,window.random),function(a,b,c){function d(a,b,c){Array.prototype.forEach.call(a.querySelectorAll(b),function(a){a.innerHTML=c})}function e(a){var b=this;Object.defineProperty(this,"el",{get:function(){return a}}),this.el.addEventListener("click",function(a){a.target.classList.contains("randomizer")&&b.randomize()},!1)}e.prototype.randomize=function(){d(this.el,".key",b.random()),d(this.el,".tempo",c.random())},a.SongSeeder=e}(window,window.Key,window.Tempo),function(a,b,c){function d(){return(new Date).getFullYear()}function e(){var a=d();a>2015&&(b.getElementById("copyright").innerHTML="&copy; 2015-"+a+" Mike Dominice")}function f(b){a.FastClick.attach(b)}function g(a){var b=new c(a);b.randomize()}b.addEventListener("DOMContentLoaded",function(){f(b.body),g(b.getElementById("main")),e()},!1)}(window,window.document,window.SongSeeder);
//# sourceMappingURL=main-min.js.map
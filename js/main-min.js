/**
 * main-min.js
 * (c) 2015 Michael Dominice
 * main-min.js is freely distributable under the MIT license.
 */
"use strict";!function(a){function b(a,b){return"undefined"==typeof b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))}function c(a){return a[b(a.length-1)]}var d=a.random||{};d.randomInt=b,d.choice=c,a.random=d}(window),function(a){function b(){}var c=1,d=2;Object.defineProperty(b,"HALF_STEP",{get:function(){return c}}),Object.defineProperty(b,"WHOLE_STEP",{get:function(){return d}}),a.Interval=b}(window),function(a,b){function c(a,b){var c="",d=0;for(d=0;a>d;d++)c+=b;return c}function d(a){return k.indexOf(a)}function e(a){return k[a%k.length]}function f(a){return l.indexOf(a)}function g(a){return l[h(a)]}function h(a){return a%l.length}function i(a,b){if(1!==a.length)throw new Error("invalid letter!");b=b||"",Object.defineProperty(this,"letter",{get:function(){return a}}),Object.defineProperty(this,"suffix",{get:function(){return b}}),Object.defineProperty(this,"name",{get:function(){return a+b}}),Object.defineProperty(this,"number",{get:function(){var c=f(a);return"b"===b.charAt(0)?c-=b.length:"#"===b.charAt(0)&&(c+=b.length),h(c)}})}function j(a,b,d){var e=c(a,b),f=c(l.length-1-a,d);return e.length<f.length?e:f.length<e.length?f:void 0}var k=["C","D","E","F","G","A","B"],l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];i.prototype.hasSharps=function(){return this.suffix.indexOf("#")>-1},i.prototype.hasFlats=function(){return this.suffix.indexOf("b")>-1},i.prototype.flatten=function(){return this.hasSharps()?new i(this.letter,this.suffix.slice(0,this.suffix.length-1)):new i(this.letter,this.suffix+"b")},i.prototype.sharpen=function(){return this.hasFlats()?new i(this.letter,this.suffix.slice(0,this.suffix.length-1)):new i(this.letter,this.suffix+"#")},i.prototype.resolveTo=function(a){var b=i.create(a),c=this.number-b.number;return c>0?i.create(a,j(c,"#","b")):0>c?i.create(a,j(Math.abs(c),"b","#")):b},i.prototype.interval=function(a){var b=this.number+a;return i.parse(g(b))},i.prototype.toJSON=function(){return{name:this.name}},i.prototype.toString=function(){return this.name},i.create=function(a,b){return a.length>1?i.parse(a):new i(a,b)},i.parse=function(a){var b=a[0],c=a.slice(1);return i.create(b,c)},i.letters=function(a){var b=d(a||"C");return k.map(function(a,c){return e(c+b)})},i.all=function(){return l.map(i.create)},i.random=function(){return i.parse(b.choice(l))},a.Note=i}(window,window.random),function(a,b,c,d){function e(a,b){a instanceof c||(a=c.parse(a)),Object.defineProperty(this,"tonic",{get:function(){return a}}),Object.defineProperty(this,"quality",{get:function(){return b}}),Object.defineProperty(this,"name",{get:function(){return a+" "+this.quality}}),Object.defineProperty(this,"shortName",{get:function(){var c=String(a);return b===i&&(c+="m"),c}})}function f(a,b){var c=a[a.length-1],d=c.interval(b);return a.push(d),a}function g(){return b.randomInt(1)?h:i}var h="major",i="minor",j=d.HALF_STEP,k=d.WHOLE_STEP,l={},m={"C#":"Db","D#":"Eb","G#":"Ab","A#":"Bb","A#m":"Bb"};l[h]=[k,k,j,k,k,k],l[i]=[k,j,k,k,j,k],e.prototype.getNotes=function(){var a=l[this.quality].reduce(f,[this.tonic]);return c.letters(this.tonic.letter).map(function(b,c){return a[c].resolveTo(b)})},Object.defineProperty(e,"MINOR",{get:function(){return i}}),Object.defineProperty(e,"MAJOR",{get:function(){return h}}),e.prototype.toJSON=function(){return{tonic:this.tonic,quality:this.quality}},e.prototype.toString=function(){return this.name},e.prototype.preferred=function(){return m.hasOwnProperty(this.shortName)?new e(c.create(m[this.shortName]),this.quality):this},e.create=function(a,b){return new e(a,b)},e.random=function(){return e.create(c.random(),g()).preferred()},a.Key=e}(window,window.random,window.Note,window.Interval),function(a,b){function c(a){Object.defineProperty(this,"bpm",{get:function(){return a}})}var d=[40,42,44,46,48,50,52,54,56,58,60,63,66,69,72,76,80,84,88,92,96,100,104,108,112,116,120,126,132,138,144,152,160,168,176,184,192,200,208];c.prototype.toJSON=function(){return{bpm:this.bpm}},c.prototype.toString=function(){return this.bpm+" bpm"},c.random=function(){return new c(b.choice(d))},a.Tempo=c}(window,window.random),function(a,b,c){function d(a,b,c){Array.prototype.forEach.call(a.querySelectorAll(b),function(a){a.innerHTML=c})}function e(a){var b=this;Object.defineProperty(this,"el",{get:function(){return a}}),this.el.addEventListener("click",function(a){a.target.classList.contains("randomizer")&&b.randomize()},!1)}e.prototype.randomize=function(){d(this.el,".key",b.random()),d(this.el,".tempo",c.random())},a.SongSeeder=e}(window,window.Key,window.Tempo),function(a,b,c){function d(){return(new Date).getFullYear()}function e(){var a=d();a>2015&&(b.getElementById("copyright").innerHTML="&copy; 2015-"+a+" Mike Dominice")}function f(b){a.FastClick.attach(b)}function g(a){var b=new c(a);b.randomize()}b.addEventListener("DOMContentLoaded",function(){f(b.body),g(b.getElementById("main")),e()},!1)}(window,window.document,window.SongSeeder);
//# sourceMappingURL=main-min.js.map